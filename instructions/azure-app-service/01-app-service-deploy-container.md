---
lab:
  topic: Azure App Service
  title: コンテナー化されたアプリを Azure App Service にデプロイする
  description: Azure App Service にコンテナー化されたアプリをデプロイする方法を学習します。
---

# コンテナー化されたアプリを Azure App Service にデプロイする

この演習では、Microsoft Container Registry からコンテナー イメージを指定して、コンテナ化されたアプリケーションを実行するように構成された Azure App Service Web アプリを作成します。 コンテナー設定を構成し、アプリをデプロイし、コンテナ化されたアプリケーションが Azure App Service で正常に実行されていることを確認する方法について説明します。

この演習で実行されるタスク:

* Azure App Service リソースを作成し、コンテナ化されたアプリをデプロイする
* 結果を確認する
* リソースをクリーンアップする

この演習の所要時間は約 **15** 分です。

## Web アプリ リソースの作成

1. お使いのブラウザーで Azure portal ([https://portal.azure.com](https://portal.azure.com)) に移動し、メッセージに応じて Azure 資格情報を使用してサインインします。
1. ホーム ページの上の方の **Azure Services** 見出し内にある **[+ Create a resource]** を選択します。 
1. **[Search the Marketplace]** 検索バーに「*Web アプリ*」と入力し、**Enter** キーを押して検索を開始します。
1. Web App タイル内で **[Create]** ドロップダウンを選択し、**[Web App]** を選択します。

    ![Web App タイルのスクリーンショット。](./media/01/create-web-app-tile.png)

    **[Create]** を選択すると、デプロイに関する情報を入力するいくつかのタブを含むテンプレートが開きます。 次の手順以降では、関連する各タブ内で行う変更について説明します。

1. **[Basics]** タブでは、以下の表に情報を入力します。

    | 設定 | アクション |
    |--|--|
    | **サブスクリプション** | 既定値のままにします。 |
    | **リソース グループ** | [Create new] を選択して `rg-WebApp` と入力し、[OK] を選択します。 既存のリソース グループを選択してもかまいません。 |
    | **名前** | 一意の名前を入力します (たとえば **your-initials-containerwebapp**)。 *your-initials* を自分のイニシャルまたは他の値に置き換えます。 名前は一意でなければならないため、いくつかの変更が必要になる場合があります。 |
    | **[Name]** 設定の下のスライダー | スライダーを選択してオフにします。 このスライダーは一部の Azure 構成でのみ表示されます。 |
    | **発行** | **[Container]** オプションを選択します。 |
    | **オペレーティング システム** | 必ず **[Linux]** を選択すること。 |
    | **リージョン** | 既定の選択を保持するか、あるいは最寄りのリージョンを選択します。 |
    | **Linux プラン** | 既定の選択を保持します。 |
    | **料金プラン** | ドロップダウンを選択し、**[Free F1]** プランを選択します。 |

1. **[Container]** タブを選択または同タブに移動し、以下の表に情報を入力します。

    | 設定 | アクション |
    |--|--|
    | **サイドカーのサポート** | スライダーは **[オフ]** の位置に設定する必要があります。 |
    | **イメージのソース** | **[Other container registries]** を選択します。 |
    | **アクセスのタイプ** | 既定の **Public** 選択を保持します。 |
    | **レジストリ サーバー URL** | 「`mcr.microsoft.com/k8se`」と入力します。 |
    | **イメージとタグ** | 「`quickstart:latest`」と入力します。 |
    | **スタートアップ コマンド** | 空白のままにします。 |

1. **[確認および作成]** タブを選択します。
1. 選択内容を確認し、**[Create]** ボタンを選択します。

デプロイが完了するまでに、数分かかる場合があります。 デプロイが完了したら、**[Go to resource]** ボタンを選択します。

デプロイが完了したので、ここで Web アプリを表示してみましょう。 **Essentials** セクション内の **Default domain** フィールドの横にある Web アプリへのリンクを選択します。 リンクをクリックすると、サイトが新しいタブで開きます。

>**注:** デプロイされたコンテナー アプリが実行され、新しいタブに表示されるまでに数分かかる場合があります。

## リソースをクリーンアップする

これで演習が完了したので、不要なリソース使用を避けるために、作成したクラウド リソースを削除してください。

1. 作成したリソース グループに移動し、この演習で使用したリソースの内容を表示します。
1. ツール バーの **[リソース グループの削除]** を選びます。
1. リソース グループ名を入力し、削除することを確認します。

> **注:** リソース グループを削除すると、その中のすべてのリソースが削除されます。 この演習で既存のリソース グループを選択した場合は、この演習の範囲外にある既存のリソースも削除されます。
